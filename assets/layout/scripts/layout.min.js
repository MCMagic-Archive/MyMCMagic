var Layout=function(){var a="layouts/layout3/img/",b="layouts/layout3/css/",c=App.getResponsiveBreakpoint("md"),d=function(){$(".page-header").on("click",".search-form",function(a){$(this).addClass("open"),$(this).find(".form-control").focus(),$(".page-header .search-form .form-control").on("blur",function(a){$(this).closest(".search-form").removeClass("open"),$(this).unbind("blur")})}),$(".page-header").on("keypress",".hor-menu .search-form .form-control",function(a){if(13==a.which)return $(this).closest(".search-form").submit(),!1}),$(".page-header").on("mousedown",".search-form.open .submit",function(a){a.preventDefault(),a.stopPropagation(),$(this).closest(".search-form").submit()}),$("body").on("click",".page-header-top-fixed .page-header-top .menu-toggler",function(){App.scrollTop()})},e=function(){$(".page-header .menu-toggler").on("click",function(a){if(App.getViewPort().width<c){var b=$(".page-header .page-header-menu");b.is(":visible")?b.slideUp(300):b.slideDown(300),$("body").hasClass("page-header-top-fixed")&&App.scrollTop()}}),$(".hor-menu .menu-dropdown > a, .hor-menu .dropdown-submenu > a").on("click",function(a){App.getViewPort().width<c&&$(this).next().hasClass("dropdown-menu")&&(a.stopPropagation(),$(this).parent().hasClass("opened")?$(this).parent().removeClass("opened"):$(this).parent().addClass("opened"))}),App.getViewPort().width>=c&&$('.hor-menu [data-hover="megamenu-dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover(),$(this).addClass("hover-initialized")}),$(document).on("click",'.hor-menu .menu-dropdown > a[data-hover="megamenu-dropdown"]',function(){App.getViewPort().width<c&&App.scrollTo($(this))}),$(".hor-menu li > a").on("click",function(a){App.getViewPort().width<c&&($(this).parent("li").hasClass("classic-menu-dropdown")||$(this).parent("li").hasClass("mega-menu-dropdown")||$(this).parent("li").hasClass("dropdown-submenu")||($(".page-header .page-header-menu").slideUp(300),App.scrollTop()))}),$(document).on("click",".mega-menu-dropdown .dropdown-menu, .classic-menu-dropdown .dropdown-menu",function(a){a.stopPropagation()}),$(window).scroll(function(){var a=75;$("body").hasClass("page-header-menu-fixed")&&($(window).scrollTop()>a?$(".page-header-menu").addClass("fixed"):$(".page-header-menu").removeClass("fixed")),$("body").hasClass("page-header-top-fixed")&&($(window).scrollTop()>a?$(".page-header-top").addClass("fixed"):$(".page-header-top").removeClass("fixed"))})},f=function(a,b){var c=location.hash.toLowerCase(),d=$(".hor-menu");"click"===a||"set"===a?b=$(b):"match"===a&&d.find("li > a").each(function(){var a=$(this).attr("href").toLowerCase();if(a.length>1&&c.substr(1,a.length-1)==a.substr(1))return void(b=$(this))}),b&&0!=b.size()&&"javascript:;"!==b.attr("href").toLowerCase()&&"#"!==b.attr("href").toLowerCase()&&(d.find("li.active").removeClass("active"),d.find("li > a > .selected").remove(),d.find("li.open").removeClass("open"),b.parents("li").each(function(){$(this).addClass("active"),1===$(this).parent("ul.navbar-nav").size()&&$(this).find("> a").append('<span class="selected"></span>')}))},g=function(){var a=App.getViewPort().width,b=$(".page-header-menu");a>=c&&"desktop"!==b.data("breakpoint")?($('.hor-menu [data-toggle="dropdown"].active').removeClass("open"),b.data("breakpoint","desktop"),$('.hor-menu [data-hover="megamenu-dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover(),$(this).addClass("hover-initialized")}),$(".hor-menu .navbar-nav li.open").removeClass("open"),$(".page-header-menu").css("display","block")):a<c&&"mobile"!==b.data("breakpoint")&&($('.hor-menu [data-toggle="dropdown"].active').addClass("open"),b.data("breakpoint","mobile"),$('.hor-menu [data-hover="megamenu-dropdown"].hover-initialized').each(function(){$(this).unbind("hover"),$(this).parent().unbind("hover").find(".dropdown-submenu").each(function(){$(this).unbind("hover")}),$(this).removeClass("hover-initialized")}))},h=function(){var a;$("body").height()<App.getViewPort().height&&(a=App.getViewPort().height-$(".page-header").outerHeight()-($(".page-container").outerHeight()-$(".page-content").outerHeight())-$(".page-prefooter").outerHeight()-$(".page-footer").outerHeight())},i=function(){var a=100,b=500;navigator.userAgent.match(/iPhone|iPad|iPod/i)?$(window).bind("touchend touchcancel touchleave",function(c){$(this).scrollTop()>a?$(".scroll-to-top").fadeIn(b):$(".scroll-to-top").fadeOut(b)}):$(window).scroll(function(){$(this).scrollTop()>a?$(".scroll-to-top").fadeIn(b):$(".scroll-to-top").fadeOut(b)}),$(".scroll-to-top").click(function(a){return a.preventDefault(),$("html, body").animate({scrollTop:0},b),!1})};return{initHeader:function(){d(),e(),App.addResizeHandler(g),App.isAngularJsApp()&&f("match")},initContent:function(){h()},initFooter:function(){i()},init:function(){this.initHeader(),this.initContent(),this.initFooter()},setMainMenuActiveLink:function(a,b){f(a,b)},closeMainMenu:function(){$(".hor-menu").find("li.open").removeClass("open"),App.getViewPort().width<c&&$(".page-header-menu").is(":visible")&&$(".page-header .menu-toggler").click()},getLayoutImgPath:function(){return App.getAssetsPath()+a},getLayoutCssPath:function(){return App.getAssetsPath()+b}}}();App.isAngularJsApp()===!1&&jQuery(document).ready(function(){Layout.init()});